<div *ngIf="!isLoading">
  <!-- Outer Card -->
  <div class="card shadow-sm p-2 mb-3 rounded" style="max-width: 540px; min-height: 100vh; margin: auto; background-color: #d4d4d3;">
    
    <!-- Inner White Card -->
    <div class="card shadow-sm p-3 mb-1 bg-white rounded" style="height:98vh;">

      <!-- Logo -->
      <div class="text-end mb-1">
        <a [routerLink]="['/worklog']">
          <img src="assets/logo.png" alt="Logo" style="width: 100px; height: auto; cursor: pointer;">
        </a>
      </div>

      <h6 class="title pt-1">Leave Request Status</h6>

      <!-- No Data Message -->
      <div *ngIf="leaveRequests.length === 0" class="empty-message">
        <p>No leave requests found.</p>
      </div>

      <!-- Leave Cards -->
      <div *ngFor="let leave of paginatedLeaveRequests" class="leave-card pt-2 pb-1">
        <div class="card-header pt-1 pb-1 d-flex justify-content-between align-items-center">
          <h5 class="mb-0">{{ leave.employeeName }}</h5>
          <span class="status-badge badge rounded-pill text-uppercase" [ngClass]="leave.status">{{ leave.status }}</span>
        </div>

        <div class="card-body pt-1 pb-0">
          <p><strong>Reason:</strong> {{ leave.reason }}</p>
          <p><strong>Request Type:</strong> {{ leave.type }}</p>

          <div *ngIf="leave.type === 'Leave'">
            <p><strong>From:</strong> {{ leave.startDate }} <strong>To:</strong> {{ leave.endDate }}</p>
          </div>

          <div *ngIf="leave.type === 'Permission'">
            <p><strong>From:</strong> {{ leave.startTime }} <strong>To:</strong> {{ leave.endTime }}</p>
          </div>

          <div *ngIf="leave.adminComment">
            <p><strong>Admin Comment:</strong> {{ leave.adminComment }}</p>
          </div>
        </div>

        <div class="card-footer pt-1 pb-1">
          <small>ðŸ“… Submitted at: {{ leave.submittedAt }}</small>
        </div>
      </div>

      <!-- Pagination -->
      <div class="text-center mt-3">
        <button class="btn btn-outline-primary btn-sm me-2" (click)="prevPage()" [disabled]="currentPage === 1">Prev</button>
        <span>Page {{ currentPage }} of {{ getTotalPages() }}</span>
        <button class="btn btn-outline-primary btn-sm ms-2" (click)="nextPage()" [disabled]="currentPage === getTotalPages()">Next</button>
      </div>
    </div>
  </div>
</div>
